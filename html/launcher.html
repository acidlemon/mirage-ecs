{{ template "header" }}

<h1>Launch Container</h1>

<div class="col-md-12">
<form id="launcher" method="POST" action="/launch">
  <label for="subdomain" class="col-md-2 text-right">subdomain </label>
  <input type="text" name="subdomain" value="" id="subdomain"
         class="col-md-5" placeholder="mybranch">
  <p class="col-md-5">*Required</p>

{{ range $param := .Parameters }}

  <label for="{{ $param.Name }}" class="col-md-2 text-right">{{ $param.Name }} </label>
  {{ if $param.Options }}
  <select name="{{ $param.Name }}" id="{{ $param.Name }}" class="col-md-5">
    {{ range $option := $param.Options }}
    <option value="{{ $option.Value }}" {{ if eq $option.Value $param.Default }}selected{{ end }}>{{ or $option.Label
      $option.Value }}</option>
    {{ end }}
  </select>
  {{ else }}
  <input type="text" name="{{ $param.Name }}" value="{{ $param.Default }}" id="{{ $param.Name }}" class="col-md-5"
    placeholder="your {{ $param.Name }}" />
  {{ end }}
  <p class="col-md-5">{{ if $param.Required }}*Required {{ else }} (optional) {{ end }}</p>
  
  {{ if $param.Description }}
  <span class="col-md-2"></span>
  <div class="col-md-10">
    <p>{{ $param.Description }}</p>
  </div>
  {{ end }}

{{ end }}

{{ range $i, $taskdef := .DefaultTaskDefinitions }}

{{ if eq $i 0 }}

  <label for="taskdef" class="col-md-2 text-right">Task Definitions</label>

{{ else }}

  <div class="col-md-2"></div>

{{ end }}

  <input type="text" name="taskdef" value="{{ $taskdef }}" id="taskdef"
         class="col-md-5" placeholder="arn:aws:ecs:ap-northeast-1:123456789012:task-definition/myapp">
  <p class="col-md-5">*Required</p>

{{ end }}

  <p class="col-md-7"></p>
  <p class="col-md-5 text-left">
    <input type="submit" class="btn btn-primary">
  </p>
</form>
</div>

{{ template "footer" . }}
